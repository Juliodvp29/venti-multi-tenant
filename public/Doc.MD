# üìò Documentaci√≥n Completa de la Plataforma SaaS Ecommerce Multi-Tenant

## üéØ Tabla de Contenidos

1. [Visi√≥n General](#visi√≥n-general)
2. [Arquitectura General](#arquitectura-general)
3. [M√≥dulos del Sistema](#m√≥dulos-del-sistema)
4. [Flujos de Usuario](#flujos-de-usuario)
5. [Modelo de Datos Explicado](#modelo-de-datos-explicado)
6. [Seguridad y Aislamiento](#seguridad-y-aislamiento)
7. [Escalabilidad](#escalabilidad)
8. [Casos de Uso](#casos-de-uso)

---

## üåü Visi√≥n General

### ¬øQu√© es esta Plataforma?

Esta es una plataforma SaaS (Software as a Service) completa de comercio electr√≥nico multi-tenant. Imagina que es como Shopify o WooCommerce, pero construido desde cero con tecnolog√≠a moderna.

**¬øQu√© significa Multi-Tenant?**

Multi-tenant significa que m√∫ltiples comerciantes (tiendas) pueden usar la misma aplicaci√≥n simult√°neamente, pero cada uno tiene sus datos completamente separados y privados. Es como un edificio de apartamentos: muchas familias viven en el mismo edificio, pero cada una tiene su propio espacio privado con su propia llave.

### Ventajas de esta Arquitectura

**Para el Due√±o de la Plataforma:**
- Un solo c√≥digo base para mantener
- Una sola base de datos para gestionar
- Econom√≠a de escala en costos de infraestructura
- Actualizaciones instant√°neas para todos los clientes
- F√°cil agregar nuevas caracter√≠sticas

**Para los Comerciantes (Tenants):**
- Acceso inmediato sin instalar nada
- Costos compartidos = m√°s econ√≥mico
- Actualizaciones autom√°ticas
- Escalabilidad autom√°tica
- Soporte profesional incluido

### P√∫blico Objetivo

**Tres tipos de usuarios:**

1. **Superadmin** (Due√±o de la Plataforma)
   - Gestiona todos los tenants
   - Controla planes y suscripciones
   - Monitorea la salud del sistema
   - Maneja facturaci√≥n global

2. **Comerciantes** (Owners de Tiendas)
   - Crean y gestionan su tienda virtual
   - Administran productos e inventario
   - Procesan √≥rdenes
   - Ven analytics de su negocio
   - Personalizan su marca

3. **Compradores** (Clientes Finales)
   - Navegan productos
   - Agregan al carrito
   - Realizan compras
   - Rastrean sus pedidos
   - Dejan rese√±as

---

## üèóÔ∏è Arquitectura General

### Capas de la Aplicaci√≥n

La plataforma est√° organizada en 4 capas principales:

#### 1. Capa de Presentaci√≥n (Frontend)

**¬øQu√© hace?**
Es lo que los usuarios ven y tocan. Hay dos interfaces principales:

**Storefront (Tienda P√∫blica)**
- P√°gina de inicio con productos destacados
- Cat√°logo de productos con b√∫squeda y filtros
- P√°ginas de detalle de producto
- Carrito de compras
- Proceso de checkout
- P√°gina de confirmaci√≥n de orden
- Rastreo de pedidos

**Dashboard (Panel de Administraci√≥n)**
- Dashboard con m√©tricas clave
- Gesti√≥n de productos
- Gesti√≥n de √≥rdenes
- Gesti√≥n de clientes
- Analytics y reportes
- Configuraci√≥n de la tienda
- Personalizaci√≥n de marca

**Caracter√≠sticas T√©cnicas:**
- Responsive (funciona en m√≥vil, tablet, desktop)
- Single Page Application (SPA) - r√°pida y fluida
- Actualizaci√≥n en tiempo real
- Accesible (WCAG compliant)

#### 2. Capa de Seguridad y Autenticaci√≥n

**¬øQu√© hace?**
Protege toda la aplicaci√≥n y asegura que cada usuario solo vea lo que debe ver.

**Componentes:**

**Autenticaci√≥n:**
- Login con email/password
- Registro de nuevos usuarios
- Recuperaci√≥n de contrase√±a
- Sesiones seguras con JWT tokens
- Soporte para 2FA (autenticaci√≥n de dos factores)

**Autorizaci√≥n:**
- Row Level Security (RLS) autom√°tico
- Roles y permisos por usuario
- Pol√≠ticas de acceso granulares
- Prevenci√≥n de acceso no autorizado

**¬øC√≥mo Funciona el Aislamiento?**

Imagina que tienes dos tiendas: "Zapater√≠a Pedro" y "Ropa Mar√≠a"

1. Pedro inicia sesi√≥n ‚Üí El sistema identifica que Pedro es due√±o de tenant "zapateria-pedro"
2. Pedro pide ver sus productos ‚Üí La base de datos autom√°ticamente filtra: "WHERE tenant_id = zapateria-pedro"
3. Pedro NUNCA puede ver productos de Mar√≠a, ni siquiera si intenta hackear la URL
4. Mar√≠a tiene el mismo proceso, pero con "ropa-maria"

Esto sucede AUTOM√ÅTICAMENTE en cada consulta. No hay forma de que un tenant acceda a datos de otro.

#### 3. Capa de L√≥gica de Negocio

**¬øQu√© hace?**
Contiene todas las reglas del negocio y automatizaciones.

**Funcionalidades Principales:**

**Gesti√≥n de Inventario:**
- Al crear una orden, el stock se reserva autom√°ticamente
- Si no hay stock suficiente, la compra no procede
- Alertas autom√°ticas cuando el stock es bajo
- Predicci√≥n de d√≠as restantes de inventario

**Procesamiento de √ìrdenes:**
- Generaci√≥n autom√°tica de n√∫mero de orden √∫nico
- C√°lculo autom√°tico de impuestos seg√∫n regi√≥n
- C√°lculo de costos de env√≠o
- Validaci√≥n de cupones de descuento
- Aplicaci√≥n de descuentos

**Notificaciones:**
- Email de confirmaci√≥n de orden
- Email cuando el pedido se env√≠a
- Email si la orden se cancela
- Notificaciones al comerciante de nuevas √≥rdenes

**Analytics:**
- C√°lculo diario de m√©tricas de ventas
- Identificaci√≥n de productos m√°s vendidos
- Segmentaci√≥n autom√°tica de clientes (VIP, Leal, Nuevo)
- Predicci√≥n de reabastecimiento

#### 4. Capa de Datos

**¬øQu√© hace?**
Almacena TODA la informaci√≥n de la plataforma de manera organizada, segura y eficiente.

**Caracter√≠sticas:**

**Organizaci√≥n:**
- 37 tablas especializadas
- Relaciones bien definidas
- Integridad referencial garantizada
- Normalizaci√≥n de datos

**Performance:**
- 80+ √≠ndices para b√∫squedas r√°pidas
- Vistas pre-calculadas para reportes
- Cach√© de consultas frecuentes
- Optimizaci√≥n de queries

**Seguridad:**
- Encriptaci√≥n en reposo
- Encriptaci√≥n en tr√°nsito
- Row Level Security
- Audit logs completos
- Backups autom√°ticos

---

## üì¶ M√≥dulos del Sistema

### M√≥dulo 1: Gesti√≥n de Tenants (Tiendas)

**¬øQu√© hace?**
Maneja la creaci√≥n y configuraci√≥n de cada tienda virtual.

**Funcionalidades Principales:**

#### A. Registro de Nueva Tienda

**Proceso:**
1. El comerciante crea su cuenta con email y contrase√±a
2. Elige nombre de negocio y subdominio (ej: mi-tienda.plataforma.com)
3. Selecciona plan inicial (Free, Basic, Professional, Enterprise)
4. El sistema crea autom√°ticamente:
   - Registro del tenant en la base de datos
   - Templates de email predeterminados
   - Configuraciones iniciales
   - Estructura completa para operar

**Lo que se crea autom√°ticamente:**
- Cuenta de administrador principal
- 5 plantillas de email personalizables
- Configuraci√≥n de moneda, zona horaria, unidades
- Paleta de colores por defecto
- Estructura de categor√≠as sugerida

#### B. Personalizaci√≥n de Marca

**Elementos Personalizables:**

**Visuales:**
- Logo de la tienda (recomendado: 200x60px)
- Favicon (icono en el navegador)
- Colores corporativos:
  * Color primario (botones, enlaces)
  * Color secundario (fondos, bordes)
  * Color de acento (ofertas, destacados)
- Banner principal de la tienda
- Im√°genes de fondo

**Textos:**
- Descripci√≥n del negocio
- Mensaje de bienvenida
- Pol√≠ticas de env√≠o
- Pol√≠ticas de devoluci√≥n
- T√©rminos y condiciones
- Informaci√≥n de contacto

#### C. Configuraci√≥n de la Tienda

**Configuraciones Generales:**
- Nombre del negocio
- Direcci√≥n f√≠sica completa
- Tel√©fono y email de contacto
- Horarios de atenci√≥n
- Redes sociales

**Configuraciones T√©cnicas:**
- Moneda (USD, EUR, MXN, etc.)
- Zona horaria (para mostrar horarios correctos)
- Unidades de peso (kg, lb)
- Unidades de dimensi√≥n (cm, in)
- Idioma principal

**Configuraciones de Compra:**
- ¬øPermitir checkout como invitado?
- ¬øRequerir creaci√≥n de cuenta?
- ¬øAuto-aprobar √≥rdenes digitales?
- Umbral de stock bajo (default: 10 unidades)
- Monto m√≠nimo de compra
- Env√≠o gratis a partir de X cantidad

#### D. Gesti√≥n de Equipo

**Roles Disponibles:**

1. **Owner (Due√±o)**
   - Acceso total a todo
   - Puede invitar/remover usuarios
   - Gestiona planes y facturaci√≥n
   - Puede eliminar la tienda

2. **Admin (Administrador)**
   - Gestiona productos
   - Gestiona √≥rdenes
   - Ve analytics
   - No puede cambiar configuraciones cr√≠ticas

3. **Editor**
   - Puede editar productos
   - Puede ver √≥rdenes
   - No puede eliminar ni aprobar

4. **Viewer (Observador)**
   - Solo puede ver
   - No puede modificar nada
   - √ötil para contadores, consultores

**Proceso de Invitaci√≥n:**
1. Owner env√≠a invitaci√≥n por email
2. Invitado recibe link
3. Crea su cuenta o inicia sesi√≥n
4. Autom√°ticamente tiene acceso a esa tienda
5. Puede pertenecer a m√∫ltiples tiendas

#### E. Planes y Suscripciones

**Plan Free:**
- Hasta 50 productos
- Hasta 100 √≥rdenes/mes
- 1 usuario
- Almacenamiento: 1GB
- Sin dominio personalizado
- Logo de la plataforma en footer

**Plan Basic ($29/mes):**
- Hasta 500 productos
- √ìrdenes ilimitadas
- 3 usuarios
- Almacenamiento: 10GB
- Dominio personalizado
- Sin marca de la plataforma
- Soporte por email

**Plan Professional ($79/mes):**
- Productos ilimitados
- √ìrdenes ilimitadas
- 10 usuarios
- Almacenamiento: 50GB
- Analytics avanzados
- Exportaci√≥n de datos
- Webhooks
- Soporte prioritario

**Plan Enterprise ($299/mes):**
- Todo ilimitado
- Usuarios ilimitados
- Almacenamiento: 500GB
- API completa
- Integraciones personalizadas
- Manager dedicado
- SLA 99.9%
- Soporte 24/7

---

### M√≥dulo 2: Cat√°logo de Productos

**¬øQu√© hace?**
Permite a los comerciantes crear, organizar y gestionar todo su inventario de productos.

#### A. Gesti√≥n de Categor√≠as

**Estructura Jer√°rquica:**

Las categor√≠as pueden tener m√∫ltiples niveles, como un √°rbol:

```
Electr√≥nica
‚îú‚îÄ‚îÄ Computadoras
‚îÇ   ‚îú‚îÄ‚îÄ Laptops
‚îÇ   ‚îú‚îÄ‚îÄ Desktops
‚îÇ   ‚îî‚îÄ‚îÄ Tablets
‚îú‚îÄ‚îÄ Celulares
‚îÇ   ‚îú‚îÄ‚îÄ iPhones
‚îÇ   ‚îú‚îÄ‚îÄ Android
‚îÇ   ‚îî‚îÄ‚îÄ Accesorios
‚îî‚îÄ‚îÄ Audio
    ‚îú‚îÄ‚îÄ Aud√≠fonos
    ‚îî‚îÄ‚îÄ Bocinas
```

**Informaci√≥n de Categor√≠a:**
- Nombre
- Descripci√≥n
- Imagen representativa
- URL amigable (slug)
- Orden de aparici√≥n
- Categor√≠a padre (si aplica)
- Meta descripci√≥n para SEO
- Estado (activa/inactiva)

**Uso M√∫ltiple:**
Un producto puede estar en varias categor√≠as. Ejemplo:
- "iPhone 15 Pro" puede estar en:
  * Celulares > iPhones
  * Ofertas
  * Novedades
  * Premium

#### B. Creaci√≥n de Productos

**Informaci√≥n B√°sica:**
- Nombre del producto
- Descripci√≥n corta (para listados)
- Descripci√≥n larga (para p√°gina de detalle)
- SKU (c√≥digo √∫nico del producto)
- C√≥digo de barras (opcional)

**Precios:**
- Precio de venta
- Precio comparativo (para mostrar descuento)
- Precio de costo (para c√°lculos internos)
- Moneda

**Inventario:**
- ¬øRastrear inventario? (s√≠/no)
- Cantidad en stock
- Umbral de stock bajo
- ¬øPermitir backorder? (vender sin stock)
- Ubicaci√≥n en bodega (opcional)

**Propiedades F√≠sicas:**
- Peso
- Dimensiones (largo, ancho, alto)
- Unidad de medida
- ¬øEs producto digital?
- ¬øRequiere env√≠o?

**Visibilidad:**
- Estado (Borrador, Activo, Archivado)
- ¬øProducto destacado?
- Fecha de publicaci√≥n
- Fecha de expiraci√≥n (opcional)

**SEO:**
- T√≠tulo meta
- Descripci√≥n meta
- Palabras clave
- URL personalizada

#### C. Variantes de Producto

**¬øQu√© son?**
Las variantes son versiones diferentes del mismo producto. Por ejemplo:

**Camiseta:**
- Talla: S, M, L, XL
- Color: Rojo, Azul, Negro
- Combinaciones: Rojo/S, Rojo/M, Azul/S, Azul/M, etc.

**Caracter√≠sticas:**
- Cada variante puede tener:
  * Su propio precio
  * Su propio SKU
  * Su propio stock
  * Su propia imagen
  * Su propio peso

**Ejemplo Real:**

Producto: "Zapatos Deportivos Nike"
- Variante 1: Talla 7 / Negro ‚Üí Stock: 15 unidades
- Variante 2: Talla 7 / Blanco ‚Üí Stock: 8 unidades
- Variante 3: Talla 8 / Negro ‚Üí Stock: 20 unidades
- Variante 4: Talla 8 / Blanco ‚Üí Stock: 0 unidades (agotado)

#### D. Im√°genes de Productos

**Gesti√≥n de Im√°genes:**
- M√∫ltiples im√°genes por producto (recomendado: m√≠nimo 4)
- Imagen principal (la que aparece en listados)
- Orden personalizable (arrastar y soltar)
- Texto alternativo para accesibilidad
- Zoom autom√°tico en la p√°gina de detalle

**Recomendaciones:**
- Resoluci√≥n m√≠nima: 800x800px
- Formato: JPG, PNG, WEBP
- Tama√±o m√°ximo: 5MB por imagen
- Fondo blanco para consistencia
- M√∫ltiples √°ngulos del producto

#### E. Etiquetas (Tags)

**¬øPara qu√© sirven?**
Las etiquetas permiten clasificaci√≥n flexible sin estructura r√≠gida.

**Ejemplos de Uso:**
- Temporada: "Verano 2024", "Navidad", "Black Friday"
- Ocasi√≥n: "Casual", "Formal", "Deportivo"
- Caracter√≠sticas: "Vegano", "Org√°nico", "Hecho a mano"
- Tendencias: "Bestseller", "Nuevo", "Trending"

**Beneficios:**
- B√∫squeda m√°s f√°cil
- Filtrado flexible
- Colecciones din√°micas
- SEO mejorado

---

### M√≥dulo 3: Gesti√≥n de Clientes

**¬øQu√© hace?**
Administra toda la informaci√≥n de los compradores y su historial.

#### A. Perfiles de Cliente

**Informaci√≥n Almacenada:**

**B√°sica:**
- Email (√∫nico)
- Nombre completo
- Tel√©fono
- Fecha de registro
- √öltima actividad

**Preferencias:**
- ¬øAcepta marketing? (emails promocionales)
- Idioma preferido
- Notas del comerciante

**Estad√≠sticas Autom√°ticas:**
- Total de √≥rdenes realizadas
- Monto total gastado
- Valor promedio de orden
- Fecha de primera compra
- Fecha de √∫ltima compra
- D√≠as desde √∫ltima compra

**Segmentaci√≥n Autom√°tica:**

El sistema clasifica autom√°ticamente a los clientes en:

1. **Prospect (Prospecto)**
   - Ha navegado pero nunca compr√≥
   - 0 √≥rdenes

2. **New (Nuevo)**
   - Ha hecho 1 compra
   - Dentro de los √∫ltimos 30 d√≠as

3. **Repeat (Repetidor)**
   - Ha hecho 2-4 compras
   - Compra ocasionalmente

4. **Loyal (Leal)**
   - Ha hecho 5-9 compras
   - Compra regularmente

5. **VIP**
   - Ha hecho 10+ compras
   - Alto valor de compra
   - Compra frecuentemente

**Uso de Segmentos:**
- Enviar campa√±as espec√≠ficas
- Ofrecer descuentos personalizados
- Atenci√≥n prioritaria
- Programas de lealtad

#### B. Direcciones de Clientes

**Tipos de Direcci√≥n:**
- Direcci√≥n de env√≠o
- Direcci√≥n de facturaci√≥n
- M√∫ltiples direcciones guardadas

**Informaci√≥n:**
- Etiqueta ("Casa", "Oficina", "Padres")
- Nombre del destinatario
- Empresa (opcional)
- L√≠nea 1 de direcci√≥n
- L√≠nea 2 (apartamento, suite)
- Ciudad
- Estado/Provincia
- C√≥digo postal
- Pa√≠s
- Tel√©fono de contacto
- Instrucciones de entrega

**Direcci√≥n Predeterminada:**
- Se puede marcar una direcci√≥n como predeterminada
- Se usa autom√°ticamente en el checkout
- Ahorra tiempo al comprador frecuente

#### C. Historial del Cliente

**Vista 360 del Cliente:**

El comerciante puede ver:
- Todas las √≥rdenes (completadas, pendientes, canceladas)
- Total gastado
- Productos favoritos (m√°s comprados)
- Categor√≠as de inter√©s
- Frecuencia de compra
- M√©todo de pago preferido
- Reviews dejadas
- Cupones usados
- √öltima visita a la tienda

**Beneficio:**
- Atenci√≥n personalizada
- Identificar clientes de alto valor
- Prevenir fraude
- Mejorar servicio

---

### M√≥dulo 4: Procesamiento de √ìrdenes

**¬øQu√© hace?**
Maneja todo el ciclo de vida de una compra, desde que se crea hasta que se entrega.

#### A. Estados de una Orden

Una orden pasa por diferentes estados durante su vida:

**1. Pending (Pendiente)**
- Orden creada pero pago no procesado
- Cliente a√∫n puede cancelar f√°cilmente
- Stock reservado temporalmente
- Esperando confirmaci√≥n de pago

**2. Processing (Procesando)**
- Pago recibido
- Orden en preparaci√≥n
- Se imprime etiqueta de env√≠o
- Se empaca el producto

**3. Paid (Pagada)**
- Pago confirmado
- Stock definitivamente reservado
- Cliente recibe confirmaci√≥n
- Listo para enviar

**4. Shipped (Enviada)**
- Paquete entregado a mensajer√≠a
- Cliente recibe n√∫mero de rastreo
- Se puede rastrear en tiempo real
- En tr√°nsito al cliente

**5. Delivered (Entregada)**
- Cliente confirm√≥ recepci√≥n
- Mensajer√≠a confirm√≥ entrega
- Orden completada exitosamente
- Se puede dejar review

**6. Cancelled (Cancelada)**
- Orden cancelada (por cliente o comerciante)
- Stock restaurado autom√°ticamente
- Pago reembolsado (si aplica)
- Raz√≥n de cancelaci√≥n registrada

**7. Refunded (Reembolsada)**
- Devoluci√≥n procesada
- Dinero devuelto al cliente
- Producto devuelto (opcional)
- Registro de reembolso

#### B. Informaci√≥n de la Orden

**Snapshot de Datos:**

Cuando se crea una orden, se guarda una "foto" de todo:

**¬øPor qu√©?**
Imagina que vendes una camiseta a $20. El cliente la compra. Dos d√≠as despu√©s, subes el precio a $25. La orden debe seguir mostrando $20 (el precio al momento de compra), no $25.

**Lo que se guarda:**
- Precio de cada producto (al momento de compra)
- Direcci√≥n de env√≠o completa
- Direcci√≥n de facturaci√≥n completa
- Informaci√≥n del cliente
- M√©todo de pago usado
- Descuentos aplicados
- Impuestos calculados
- Costo de env√≠o

**Detalles de Env√≠o:**
- M√©todo seleccionado
- Costo de env√≠o
- Tiempo estimado de entrega
- N√∫mero de rastreo
- Compa√±√≠a de mensajer√≠a
- URL de rastreo
- Fecha de env√≠o
- Fecha de entrega

**Detalles de Pago:**
- M√©todo usado (tarjeta, PayPal, etc.)
- √öltimos 4 d√≠gitos de tarjeta
- ID de transacci√≥n
- Gateway usado (Stripe, PayPal)
- Estado del pago
- Fecha de procesamiento

#### C. Items de la Orden

Cada orden contiene uno o m√°s items:

**Informaci√≥n por Item:**
- Producto comprado
- Variante espec√≠fica (si aplica)
- Cantidad
- Precio unitario (en ese momento)
- Subtotal
- Descuento aplicado
- Impuesto
- Total

**Ejemplo de Orden:**

```
Orden #ABC-20240216-0001
Cliente: Juan P√©rez
Fecha: 16 Feb 2024 10:30 AM

Items:
1. Camiseta Roja (Talla M)
   Cantidad: 2
   Precio unitario: $20.00
   Subtotal: $40.00

2. Pantal√≥n Azul (Talla 32)
   Cantidad: 1
   Precio unitario: $45.00
   Subtotal: $45.00

Subtotal: $85.00
Descuento (VERANO10): -$8.50
Impuesto (10%): $7.65
Env√≠o: $5.00
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
TOTAL: $89.15
```

#### D. C√°lculos Autom√°ticos

**Subtotal:**
Suma de (precio √ó cantidad) de todos los items

**Descuentos:**
- Cupones de descuento
- Promociones activas
- Descuentos por volumen
- Descuentos VIP

**Impuestos:**
- Se calculan seg√∫n:
  * Pa√≠s del comprador
  * Estado/Provincia
  * C√≥digo postal
  * Tipo de producto
- Pueden ser m√∫ltiples impuestos

**Env√≠o:**
- Seg√∫n peso total
- Seg√∫n destino
- Seg√∫n m√©todo seleccionado
- Puede ser gratis si supera monto

**Total Final:**
`Subtotal + Impuestos + Env√≠o - Descuentos`

#### E. Historial de Cambios

**Trazabilidad Completa:**

Cada vez que cambia algo en la orden, se registra:
- ¬øQu√© cambi√≥?
- ¬øQui√©n lo cambi√≥?
- ¬øCu√°ndo?
- ¬øPor qu√©? (nota opcional)
- Estado anterior
- Estado nuevo

**Ejemplo:**
```
16 Feb 2024, 10:30 - Orden creada por Juan P√©rez
16 Feb 2024, 10:32 - Estado: Pending ‚Üí Processing (pago confirmado)
16 Feb 2024, 14:15 - Estado: Processing ‚Üí Shipped (enviado por Mar√≠a Admin)
                     Nota: "Enviado v√≠a FedEx, tracking: 123456"
17 Feb 2024, 18:20 - Estado: Shipped ‚Üí Delivered
```

---

### M√≥dulo 5: Pagos y Facturaci√≥n

**¬øQu√© hace?**
Procesa pagos de manera segura y lleva registro de todas las transacciones.

#### A. M√©todos de Pago Soportados

**Tarjetas de Cr√©dito/D√©bito:**
- Visa
- Mastercard
- American Express
- Discover
- Procesado v√≠a Stripe o PayPal

**Wallets Digitales:**
- PayPal
- Apple Pay
- Google Pay
- Amazon Pay

**Transferencia Bancaria:**
- ACH (USA)
- SEPA (Europa)
- SPEI (M√©xico)
- Confirmaci√≥n manual

**Pago Contra Entrega:**
- Cash on Delivery (COD)
- Solo en √°reas seleccionadas
- Verificaci√≥n telef√≥nica requerida

#### B. Proceso de Pago

**Flujo Est√°ndar:**

1. **Cliente Hace Checkout**
   - Revisa su orden
   - Confirma direcci√≥n
   - Selecciona m√©todo de pago

2. **Ingresa Informaci√≥n de Pago**
   - Datos de tarjeta (encriptados)
   - O selecciona wallet
   - Acepta t√©rminos

3. **Validaci√≥n**
   - Se verifica la tarjeta
   - Se valida el monto
   - Se detecta fraude (si aplica)

4. **Procesamiento**
   - Se procesa el cargo
   - Se espera confirmaci√≥n del banco
   - Usualmente toma 2-5 segundos

5. **Confirmaci√≥n**
   - Pago exitoso: Orden se marca como "Paid"
   - Pago fallido: Cliente puede reintentar
   - Stock se reserva definitivamente

6. **Notificaciones**
   - Email al cliente
   - Email al comerciante
   - Notificaci√≥n en dashboard

**Seguridad:**
- PCI DSS compliant
- Tokens en lugar de tarjetas reales
- 3D Secure para tarjetas
- Detecci√≥n de fraude
- Encriptaci√≥n end-to-end

#### C. Reembolsos

**Tipos de Reembolso:**

**Completo:**
- Se devuelve todo el dinero
- Incluyendo env√≠o (opcional)
- Orden marcada como "Refunded"

**Parcial:**
- Solo algunos items
- O descuento por da√±o/faltante
- Orden permanece como "Delivered"

**Proceso:**

1. **Solicitud de Reembolso**
   - Cliente solicita (o comerciante ofrece)
   - Se especifica raz√≥n
   - Se adjunta evidencia (fotos, etc.)

2. **Revisi√≥n**
   - Comerciante revisa caso
   - Verifica pol√≠tica de devoluci√≥n
   - Aprueba o rechaza

3. **Procesamiento**
   - Se inicia reembolso en gateway
   - Se registra en sistema
   - Stock se restaura (opcional)

4. **Confirmaci√≥n**
   - Cliente recibe confirmaci√≥n
   - Dinero llega en 5-10 d√≠as h√°biles
   - Depende del banco

**Pol√≠ticas Configurables:**
- Per√≠odo de devoluci√≥n (ej: 30 d√≠as)
- ¬øQui√©n paga el env√≠o de regreso?
- Productos no retornables
- Condiciones del producto

---

### M√≥dulo 6: Descuentos y Promociones

**¬øQu√© hace?**
Permite crear cupones y promociones para impulsar ventas.

#### A. Tipos de Descuento

**1. Porcentaje (%)**
- Ejemplo: 10% de descuento
- Se aplica sobre el subtotal
- L√≠mite opcional (ej: m√°ximo $50 de descuento)

**2. Monto Fijo**
- Ejemplo: $10 de descuento
- Se resta directamente del total
- Puede tener m√≠nimo de compra

**3. Env√≠o Gratis**
- Elimina costo de env√≠o
- Muy popular y efectivo
- Puede tener m√≠nimo de compra

#### B. Configuraci√≥n de Cupones

**Informaci√≥n B√°sica:**
- C√≥digo del cup√≥n (ej: "VERANO2024")
- Descripci√≥n interna
- Tipo de descuento
- Valor del descuento

**Limitaciones:**

**Por Uso:**
- Uso total permitido (ej: solo 100 personas)
- Uso por cliente (ej: 1 vez por persona)
- Contador de usos actual

**Por Monto:**
- Compra m√≠nima requerida
- Compra m√°xima (opcional)
- Aplica sobre subtotal o total

**Por Productos:**
- Aplicable a todo el cat√°logo
- Solo productos espec√≠ficos
- Solo categor√≠as espec√≠ficas
- Excluir productos en oferta

**Por Tiempo:**
- Fecha de inicio
- Fecha de fin
- Hora espec√≠fica (opcional)
- Zona horaria

**Por Cliente:**
- Solo clientes nuevos
- Solo clientes VIP
- Solo segmento espec√≠fico
- Lista de emails permitidos

#### C. Ejemplos de Promociones

**Promoci√≥n de Bienvenida:**
```
C√≥digo: BIENVENIDO10
Descuento: 10%
Uso: 1 vez por cliente
Solo: Clientes nuevos
M√≠nimo: $30
Vigencia: Todo el a√±o
```

**Flash Sale:**
```
C√≥digo: FLASH50
Descuento: 50%
Uso: Primeros 100 clientes
Productos: Categor√≠a "Outlet"
Vigencia: Hoy 12pm - 6pm
M√≠nimo: $50
```

**Env√≠o Gratis:**
```
C√≥digo: ENVIOGRATIS
Descuento: Env√≠o gratis
Uso: Ilimitado
M√≠nimo: $100
Vigencia: Todo el mes
```

**Descuento Escalonado:**
```
SAVE10: 10% con compra de $50+
SAVE15: 15% con compra de $100+
SAVE20: 20% con compra de $200+
```

#### D. Validaci√≥n Autom√°tica

Cuando un cliente aplica un cup√≥n, el sistema verifica:

1. ‚úÖ ¬øEl c√≥digo existe?
2. ‚úÖ ¬øEst√° activo?
3. ‚úÖ ¬øEst√° dentro del per√≠odo de vigencia?
4. ‚úÖ ¬øNo ha excedido el l√≠mite de uso total?
5. ‚úÖ ¬øEl cliente no ha excedido su l√≠mite personal?
6. ‚úÖ ¬øEl carrito cumple el m√≠nimo de compra?
7. ‚úÖ ¬øLos productos en el carrito son elegibles?

Si alguna validaci√≥n falla, se muestra un mensaje claro al cliente.

---

### M√≥dulo 7: Analytics y Reportes

**¬øQu√© hace?**
Proporciona insights sobre el negocio para tomar mejores decisiones.

#### A. Dashboard Principal

**M√©tricas en Tiempo Real:**

**Hoy:**
- Ventas del d√≠a actual
- N√∫mero de √≥rdenes
- Comparaci√≥n con ayer (‚Üë o ‚Üì)
- Valor promedio de orden

**Esta Semana:**
- Ventas totales
- √ìrdenes completadas
- Nuevos clientes
- Comparaci√≥n con semana anterior

**Este Mes:**
- Ingresos del mes
- Total de √≥rdenes
- Clientes nuevos vs. recurrentes
- Comparaci√≥n con mes anterior

**Visualizaciones:**
- Gr√°fica de ventas por d√≠a (√∫ltimos 30 d√≠as)
- Gr√°fica de √≥rdenes por hora (hoy)
- Distribuci√≥n de m√©todos de pago
- Top 5 productos m√°s vendidos

#### B. Reportes de Productos

**Productos M√°s Vendidos:**
- Ranking por unidades vendidas
- Ranking por ingresos generados
- Per√≠odo personalizable (7d, 30d, 90d, todo)
- Filtrable por categor√≠a

**Productos con Bajo Rendimiento:**
- Menos vendidos en X d√≠as
- Con m√°s vistas pero sin ventas
- Alto inventario, bajas ventas
- Sugerencia de descuento o remoci√≥n

**Stock y Reabastecimiento:**
- Productos con stock bajo
- D√≠as de inventario restantes
- Predicci√≥n de cu√°ndo se agotar√°
- Sugerencia de reorden

**Ejemplo de Alerta:**
```
‚ö†Ô∏è Camiseta Negra (M)
Stock actual: 5 unidades
Ventas promedio: 3 por d√≠a
D√≠as restantes: ~2 d√≠as
Sugerencia: Reabastecer 50 unidades
```

#### C. Reportes de Clientes

**Segmentaci√≥n Detallada:**

**Por Valor:**
- Top 10% de clientes (VIPs)
- Clientes de valor medio
- Clientes de bajo valor
- Clientes inactivos

**Por Frecuencia:**
- Compradores semanales
- Compradores mensuales
- Compradores ocasionales
- One-time buyers

**Por Recencia:**
- Compraron en √∫ltimos 7 d√≠as
- Compraron en √∫ltimos 30 d√≠as
- Compraron hace 30-60 d√≠as
- Compraron hace 60+ d√≠as (en riesgo)

**Lifetime Value (LTV):**
- Valor total gastado por cliente
- Promedio de gasto por orden
- Frecuencia de compra
- Predicci√≥n de valor futuro

**An√°lisis RFM:**
- Recency (Recencia): ¬øCu√°ndo compr√≥?
- Frequency (Frecuencia): ¬øQu√© tan seguido?
- Monetary (Monetario): ¬øCu√°nto gasta?

Combinando estos tres, se clasifican clientes autom√°ticamente.

#### D. Reportes de Ventas

**Por Per√≠odo:**
- Ventas diarias (gr√°fica)
- Ventas semanales (comparativa)
- Ventas mensuales (tendencia)
- Ventas anuales (proyecci√≥n)

**Por Categor√≠a:**
- Ingresos por categor√≠a
- Unidades vendidas por categor√≠a
- Margen de ganancia por categor√≠a
- Crecimiento por categor√≠a

**Por Canal:**
- Ventas directas en tienda
- Ventas por b√∫squeda org√°nica
- Ventas por campa√±as pagadas
- Ventas por redes sociales
- Ventas por email marketing

**Por Ubicaci√≥n:**
- Ventas por pa√≠s
- Ventas por estado/provincia
- Ventas por ciudad
- Mapa de calor de ventas

#### E. An√°lisis de Conversi√≥n

**Embudo de Ventas:**

```
1000 visitantes
  ‚Üì (20% conversi√≥n)
200 vieron producto
  ‚Üì (50% conversi√≥n)
100 agregaron al carrito
  ‚Üì (30% conversi√≥n)
30 iniciaron checkout
  ‚Üì (70% conversi√≥n)
21 completaron compra

Tasa de conversi√≥n global: 2.1%
```

**M√©tricas Clave:**
- Tasa de abandono de carrito
- Tasa de abandono de checkout
- Tiempo promedio hasta compra
- P√°ginas vistas antes de comprar

**Oportunidades de Mejora:**
- Si abandono de carrito es alto: Ofrecer cup√≥n
- Si abandono de checkout es alto: Simplificar proceso
- Si tiempo hasta compra es largo: Agregar urgencia
- Si views son altos pero ventas bajas: Revisar precio/descripci√≥n

---

### M√≥dulo 8: Reviews y Calificaciones

**¬øQu√© hace?**
Permite a los clientes dejar opiniones sobre productos comprados.

#### A. Sistema de Reviews

**Componentes:**

**Calificaci√≥n:**
- Estrellas (1 a 5)
- Solo clientes que compraron pueden calificar
- Verificaci√≥n de compra mostrada

**Review Escrita:**
- T√≠tulo corto (opcional)
- Texto de review
- L√≠mite de caracteres
- Soporte para emojis

**Informaci√≥n del Reviewer:**
- Nombre (o "Cliente Verificado" si es privado)
- Fecha de review
- Badge de "Compra Verificada"
- N√∫mero de reviews hechas

#### B. Moderaci√≥n

**Proceso:**

1. **Cliente deja review**
   - Despu√©s de recibir producto
   - O desde su historial de √≥rdenes

2. **Review entra en cola**
   - Estado: "Pendiente de aprobaci√≥n"
   - No visible p√∫blicamente a√∫n

3. **Comerciante revisa**
   - Lee el review
   - Verifica que cumple pol√≠ticas
   - Aprueba o rechaza

4. **Review publicada**
   - Visible en p√°gina de producto
   - Cliente notificado
   - Cuenta para promedio

**Razones para Rechazar:**
- Lenguaje ofensivo
- Spam o enlaces
- Review falso/comprado
- Informaci√≥n personal compartida
- No relacionado al producto

**Auto-Aprobaci√≥n (Opcional):**
- Reviews con 4-5 estrellas: Auto-aprobadas
- Reviews con 1-3 estrellas: Requieren revisi√≥n
- Configurable por comerciante

#### C. Respuestas del Comerciante

**¬øPara qu√©?**
Los comerciantes pueden responder a reviews para:
- Agradecer reviews positivos
- Explicar situaciones negativas
- Ofrecer soluciones
- Mostrar atenci√≥n al cliente

**Ejemplo:**

```
‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê "Excelente producto"
"Lleg√≥ r√°pido y en perfectas condiciones. Muy satisfecho."
- Juan P., 15 Feb 2024 (Compra Verificada)

  ‚Üí Respuesta del vendedor:
    "¬°Gracias Juan! Nos alegra que te haya gustado. 
    Esperamos verte pronto de nuevo." 
    - Tienda XYZ, 16 Feb 2024
```

#### D. Estad√≠sticas de Reviews

**Por Producto:**
- Promedio de calificaci√≥n
- Total de reviews
- Distribuci√≥n por estrellas:
  * 5 estrellas: 45 reviews
  * 4 estrellas: 30 reviews
  * 3 estrellas: 10 reviews
  * 2 estrellas: 3 reviews
  * 1 estrella: 2 reviews

**Insights:**
- % de recomendaci√≥n
- Palabras clave mencionadas
- Aspectos m√°s valorados
- Aspectos a mejorar

**Uso:**
- Mostrar en p√°gina de producto
- Ordenar productos por rating
- Identificar productos problem√°ticos
- Mejorar descripciones de producto

---

### M√≥dulo 9: Env√≠os y Log√≠stica

**¬øQu√© hace?**
Gestiona todo lo relacionado con el env√≠o de productos f√≠sicos.

#### A. Zonas de Env√≠o

**¬øQu√© son?**
Agrupaciones geogr√°ficas con tarifas de env√≠o similares.

**Ejemplos:**

**Zona 1: Local**
- Mismo estado/provincia
- Ciudades cercanas
- Entrega: 1-2 d√≠as

**Zona 2: Nacional**
- Resto del pa√≠s
- Entrega: 3-5 d√≠as

**Zona 3: Internacional**
- Pa√≠ses seleccionados
- Entrega: 7-15 d√≠as

**Configuraci√≥n:**
- Nombre de la zona
- Pa√≠ses incluidos
- Estados/provincias incluidos
- C√≥digos postales espec√≠ficos (opcional)

#### B. M√©todos de Env√≠o

**Por Zona:**

Cada zona puede tener m√∫ltiples m√©todos:

**Ejemplo para Zona Local:**

1. **Env√≠o Est√°ndar**
   - Costo: $5.00
   - Tiempo: 2-3 d√≠as
   - Para pedidos <5kg

2. **Env√≠o Express**
   - Costo: $15.00
   - Tiempo: Siguiente d√≠a
   - Hasta 3pm para env√≠o mismo d√≠a

3. **Recogida en Tienda**
   - Costo: Gratis
   - Tiempo: 2 horas
   - Horario: Lun-Vie 9am-6pm

**C√°lculo de Env√≠o:**

**Basado en Peso:**
```
0-1kg: $5
1-5kg: $10
5-10kg: $20
10kg+: $30
```

**Basado en Precio:**
```
$0-$50: $7
$50-$100: $5
$100+: Gratis
```

**Basado en Destino:**
```
Local: $5
Nacional: $12
Internacional: $25
```

**Combinado:**
- Peso + Destino
- Precio + Peso
- Todos los factores

#### C. Rastreo de Env√≠os

**Informaci√≥n Proporcionada:**

1. **N√∫mero de Rastreo**
   - C√≥digo √∫nico del paquete
   - Asignado por mensajer√≠a
   - Compartido con cliente

2. **Compa√±√≠a de Env√≠o**
   - FedEx, UPS, DHL, etc.
   - Logo y contacto
   - Horarios de atenci√≥n

3. **URL de Rastreo**
   - Link directo a p√°gina de rastreo
   - Cliente puede ver en tiempo real
   - Actualizaciones autom√°ticas

4. **Actualizaciones de Estado:**
   ```
   16 Feb, 10:00 - Paquete recogido
   16 Feb, 14:30 - En centro de distribuci√≥n
   17 Feb, 08:15 - En ruta de entrega
   17 Feb, 11:40 - Entregado a Juan P√©rez
   ```

**Notificaciones:**
- Email cuando se env√≠a
- Email cuando est√° en camino
- Email cuando se entrega
- SMS opcional en cada paso

#### D. Etiquetas de Env√≠o

**Generaci√≥n Autom√°tica:**

El sistema puede generar etiquetas que incluyen:
- Direcci√≥n del remitente (comerciante)
- Direcci√≥n del destinatario (cliente)
- N√∫mero de orden
- C√≥digo de barras para escaneo
- Instrucciones especiales

**Impresi√≥n:**
- Formato PDF descargable
- Tama√±o est√°ndar (4x6 pulgadas)
- Compatible con impresoras t√©rmicas
- M√∫ltiples etiquetas en una p√°gina

---

### M√≥dulo 10: Notificaciones y Comunicaci√≥n

**¬øQu√© hace?**
Mantiene informados a clientes y comerciantes sobre eventos importantes.

#### A. Emails Transaccionales

**Tipos de Email:**

**Para el Cliente:**

1. **Confirmaci√≥n de Orden**
   - Enviado: Al completar compra
   - Contiene: Resumen de orden, total, productos
   - Prop√≥sito: Confirmar que orden fue recibida

2. **Confirmaci√≥n de Pago**
   - Enviado: Al procesar pago
   - Contiene: M√©todo de pago, monto, fecha
   - Prop√≥sito: Confirmar transacci√≥n exitosa

3. **Orden Enviada**
   - Enviado: Al marcar como "Shipped"
   - Contiene: Tracking number, link de rastreo
   - Prop√≥sito: Informar que paquete est√° en camino

4. **Orden Entregada**
   - Enviado: Al confirmar entrega
   - Contiene: Invitaci√≥n a dejar review
   - Prop√≥sito: Confirmar recepci√≥n

5. **Orden Cancelada**
   - Enviado: Al cancelar orden
   - Contiene: Raz√≥n, informaci√≥n de reembolso
   - Prop√≥sito: Explicar cancelaci√≥n

6. **Reembolso Procesado**
   - Enviado: Al procesar reembolso
   - Contiene: Monto, m√©todo, tiempo estimado
   - Prop√≥sito: Confirmar devoluci√≥n de dinero

**Para el Comerciante:**

1. **Nueva Orden Recibida**
   - Enviado: Al crear orden nueva
   - Contiene: Detalles de orden, cliente, productos
   - Prop√≥sito: Alerta para procesar

2. **Producto con Stock Bajo**
   - Enviado: Diariamente si hay productos bajo umbral
   - Contiene: Lista de productos, stock actual
   - Prop√≥sito: Recordar reabastecer

3. **Nueva Review Pendiente**
   - Enviado: Al recibir review nueva
   - Contiene: Producto, calificaci√≥n, texto
   - Prop√≥sito: Moderar review

#### B. Personalizaci√≥n de Emails

**Plantillas Editables:**

Cada email tiene una plantilla que se puede personalizar:

**Variables Disponibles:**
- `{{customer_name}}` - Nombre del cliente
- `{{order_number}}` - N√∫mero de orden
- `{{order_total}}` - Total de orden
- `{{order_url}}` - Link a detalles de orden
- `{{tracking_number}}` - N√∫mero de rastreo
- `{{tracking_url}}` - Link de rastreo
- `{{store_name}}` - Nombre de la tienda
- `{{store_url}}` - URL de la tienda

**Ejemplo de Plantilla:**

```
Asunto: Tu orden {{order_number}} ha sido enviada!

Hola {{customer_name}},

Buenas noticias! Tu orden de {{store_name}} est√° en camino.

N√∫mero de Rastreo: {{tracking_number}}
Puedes rastrear tu paquete aqu√≠: {{tracking_url}}

Esperamos que disfrutes tu compra!

Saludos,
Equipo de {{store_name}}
```

**Personalizaci√≥n Visual:**
- Logo de la tienda
- Colores corporativos
- Footer personalizado
- Links a redes sociales

#### C. Webhooks

**¬øQu√© son?**
Notificaciones autom√°ticas a sistemas externos cuando sucede algo.

**¬øPara qu√© sirven?**

Imagina que usas un sistema de contabilidad externo. Cada vez que se completa una venta, quieres que se registre autom√°ticamente en tu contabilidad.

**Soluci√≥n: Webhook**

1. Configuras webhook apuntando a tu sistema de contabilidad
2. Cada vez que hay una venta, la plataforma le "avisa" autom√°ticamente
3. Tu sistema recibe los datos y los registra
4. Todo pasa sin intervenci√≥n manual

**Eventos Disponibles:**
- `order.created` - Nueva orden creada
- `order.paid` - Orden pagada
- `order.shipped` - Orden enviada
- `order.delivered` - Orden entregada
- `order.cancelled` - Orden cancelada
- `product.out_of_stock` - Producto agotado
- `customer.created` - Nuevo cliente
- `refund.processed` - Reembolso procesado

**Configuraci√≥n:**
- URL del webhook (tu servidor)
- Eventos a escuchar
- Secreto para verificaci√≥n
- Reintentos autom√°ticos si falla

---

## üîÑ Flujos de Usuario

### Flujo 1: Registro y Configuraci√≥n de Tienda

**Actor: Nuevo Comerciante**

**Pasos:**

1. **Llega a la Landing Page**
   - Ve caracter√≠sticas de la plataforma
   - Compara planes
   - Click en "Empezar Gratis"

2. **Formulario de Registro**
   - Ingresa email
   - Crea contrase√±a segura
   - Acepta t√©rminos y condiciones
   - Click en "Crear Cuenta"

3. **Verificaci√≥n de Email**
   - Recibe email de confirmaci√≥n
   - Click en link de verificaci√≥n
   - Redirigido a plataforma

4. **Wizard de Configuraci√≥n Inicial**

   **Paso 1: Informaci√≥n del Negocio**
   - Nombre del negocio
   - Tipo de negocio (dropdown)
   - Subdominio deseado (mi-tienda)
   - Validaci√≥n de disponibilidad

   **Paso 2: Informaci√≥n de Contacto**
   - Direcci√≥n f√≠sica completa
   - Tel√©fono de contacto
   - Email de atenci√≥n al cliente
   - Redes sociales (opcional)

   **Paso 3: Configuraci√≥n Regional**
   - Pa√≠s
   - Moneda
   - Zona horaria
   - Idioma

   **Paso 4: Selecci√≥n de Plan**
   - Ver comparativa de planes
   - Seleccionar plan (puede empezar con Free)
   - Ingresar datos de pago (si no es Free)
   - Confirmar

5. **Personalizaci√≥n B√°sica**
   - Subir logo
   - Elegir colores corporativos
   - Escribir descripci√≥n del negocio
   - Subir banner (opcional)

6. **Onboarding Guided Tour**
   - Tour interactivo del dashboard
   - Explicaci√≥n de secciones principales
   - Video tutorial (opcional)
   - Links a documentaci√≥n

7. **Primeros Pasos Sugeridos**
   - Checklist visible:
     * ‚úÖ Cuenta creada
     * ‚¨ú Agregar primer producto
     * ‚¨ú Configurar m√©todo de env√≠o
     * ‚¨ú Configurar m√©todo de pago
     * ‚¨ú Personalizar tienda
     * ‚¨ú Compartir tienda

8. **Invitaci√≥n a Agregar Producto**
   - "Agregar tu primer producto" destacado
   - Plantillas de producto sugeridas
   - Importador de productos (CSV)

**Resultado:**
Tienda funcional lista para recibir el primer producto.

**Tiempo Estimado:** 10-15 minutos

---

### Flujo 2: Creaci√≥n de Producto

**Actor: Comerciante**

**Pasos:**

1. **Acceder a Gesti√≥n de Productos**
   - Login al dashboard
   - Menu lateral ‚Üí Productos
   - Click en "+ Agregar Producto"

2. **Informaci√≥n B√°sica**
   - Nombre del producto
   - Descripci√≥n corta (para listados)
   - Descripci√≥n larga (editor rich text)
   - SKU (auto-generado o manual)

3. **Pricing**
   - Precio de venta
   - Precio comparativo (opcional, para mostrar descuento)
   - Precio de costo (solo para reportes internos)
   - Vista previa de m√°rgenes

4. **Inventario**
   - Toggle: ¬øRastrear inventario?
   - Si s√≠:
     * Cantidad inicial en stock
     * Umbral de stock bajo
     * ¬øPermitir vender sin stock?
   - Si no: Stock infinito

5. **Categorizaci√≥n**
   - Seleccionar categor√≠as (multi-select)
   - Crear nueva categor√≠a (si no existe)
   - Agregar etiquetas (tags)
   - Marcar como "Destacado" (opcional)

6. **Im√°genes**
   - Arrastrar y soltar im√°genes
   - O seleccionar de biblioteca de medios
   - Reordenar arrastrando
   - Marcar imagen principal
   - Agregar texto alt (accesibilidad)

7. **Variantes (Opcional)**
   - Toggle: ¬øEste producto tiene variantes?
   - Si s√≠:
     * Definir opciones (Talla, Color, Material)
     * Generar combinaciones autom√°ticamente
     * O agregar variantes manualmente
     * Configurar precio/stock por variante

8. **Detalles de Env√≠o**
   - Peso del producto
   - Dimensiones (L x W x H)
   - ¬øRequiere env√≠o especial?
   - Clase de env√≠o (est√°ndar, fr√°gil, peligroso)

9. **SEO**
   - URL personalizada (slug)
   - T√≠tulo meta
   - Descripci√≥n meta
   - Palabras clave
   - Preview de Google

10. **Visibilidad**
    - Estado:
      * Borrador (no visible)
      * Activo (visible en tienda)
      * Archivado (oculto pero guardado)
    - Programar publicaci√≥n (opcional)
    - Restricciones de edad (si aplica)

11. **Revisi√≥n Final**
    - Vista previa del producto
    - Ver c√≥mo se ve en m√≥vil
    - Ver c√≥mo se ve en tienda
    - Hacer ajustes

12. **Publicaci√≥n**
    - Click en "Publicar"
    - Confirmaci√≥n
    - Producto visible en tienda
    - Link compartible generado

**Resultado:**
Producto creado y visible en la tienda para compra.

**Tiempo Estimado:** 
- Simple (sin variantes): 5-10 minutos
- Complejo (con variantes): 15-20 minutos

---

### Flujo 3: Compra de un Cliente

**Actor: Comprador (Cliente)**

**Pasos:**

1. **Descubrimiento**
   - Llega a la tienda (mi-tienda.plataforma.com)
   - Ve p√°gina de inicio
   - Productos destacados visibles
   - Banner principal llamativo

2. **Exploraci√≥n**
   - Navega por categor√≠as
   - O usa buscador
   - Aplica filtros:
     * Precio (rango)
     * Categor√≠a
     * Etiquetas
     * Calificaci√≥n
     * Disponibilidad

3. **Ver Producto**
   - Click en producto que le interesa
   - Ve galer√≠a de im√°genes
   - Lee descripci√≥n completa
   - Ve precio y descuento (si aplica)
   - Revisa calificaciones y reviews
   - Ve stock disponible

4. **Selecci√≥n de Variante (si aplica)**
   - Selecciona talla
   - Selecciona color
   - Ve cambio de precio (si var√≠a)
   - Ve disponibilidad de esa combinaci√≥n

5. **Agregar al Carrito**
   - Selecciona cantidad
   - Click en "Agregar al Carrito"
   - Animaci√≥n de confirmaci√≥n
   - Puede:
     * Seguir comprando
     * Ver carrito
     * Ir a checkout

6. **Revisi√≥n de Carrito**
   - Ve resumen de productos
   - Puede:
     * Cambiar cantidades
     * Eliminar items
     * Aplicar cup√≥n de descuento
   - Ve subtotal actualizado

7. **Inicio de Checkout**
   - Click en "Proceder al Pago"
   - Opci√≥n de:
     * Login (si tiene cuenta)
     * Crear cuenta
     * Continuar como invitado

8. **Informaci√≥n de Contacto**
   - Email
   - Nombre completo
   - Tel√©fono
   - Checkbox: "Crear cuenta" (opcional)

9. **Direcci√≥n de Env√≠o**
   - Si tiene cuenta: Seleccionar direcci√≥n guardada
   - Si no:
     * Direcci√≥n completa
     * Ciudad, Estado, CP, Pa√≠s
     * Tel√©fono de contacto
     * Instrucciones especiales

10. **M√©todo de Env√≠o**
    - Ve opciones disponibles seg√∫n su ubicaci√≥n:
      * Est√°ndar (3-5 d√≠as) - $5
      * Express (1-2 d√≠as) - $15
      * Recogida en tienda - Gratis
    - Selecciona m√©todo preferido
    - Ve actualizaci√≥n del total

11. **M√©todo de Pago**
    - Opciones mostradas:
      * Tarjeta de cr√©dito/d√©bito
      * PayPal
      * Transferencia bancaria
    - Selecciona m√©todo
    - Ingresa informaci√≥n requerida
    - Datos encriptados autom√°ticamente

12. **Revisi√≥n Final**
    - Ve resumen completo:
      * Productos y cantidades
      * Subtotal
      * Descuento aplicado
      * Impuestos
      * Env√≠o
      * **TOTAL**
    - Revisa direcci√≥n de env√≠o
    - Acepta t√©rminos y condiciones

13. **Confirmaci√≥n de Pago**
    - Click en "Completar Orden"
    - Pantalla de carga "Procesando pago..."
    - Validaci√≥n con banco (2-5 segundos)
    - Confirmaci√≥n o error

14. **P√°gina de Confirmaci√≥n**
    - ‚úÖ "¬°Orden completada con √©xito!"
    - N√∫mero de orden mostrado
    - Resumen de orden
    - Informaci√≥n de rastreo (cuando est√© disponible)
    - Opciones:
      * Ver detalles de orden
      * Seguir comprando
      * Crear cuenta (si fue invitado)

15. **Emails Recibidos**
    - Inmediatamente: Confirmaci√≥n de orden
    - En unas horas: Confirmaci√≥n de pago
    - Cuando se env√≠e: Notificaci√≥n de env√≠o
    - Cuando se entregue: Confirmaci√≥n de entrega

16. **Rastreo de Orden**
    - Link en email
    - O login en "Mi Cuenta"
    - Ve status actual
    - Puede:
      * Ver detalles completos
      * Descargar factura
      * Rastrear paquete
      * Contactar soporte

**Resultado:**
Orden completada exitosamente, cliente satisfecho, comerciante notificado.

**Tiempo Estimado:**
- Cliente experimentado: 3-5 minutos
- Cliente nuevo: 7-10 minutos

---

### Flujo 4: Procesamiento de Orden (Comerciante)

**Actor: Comerciante**

**Pasos:**

1. **Notificaci√≥n de Nueva Orden**
   - Email recibido
   - Notificaci√≥n en dashboard
   - Sonido de alerta (opcional)
   - Badge de n√∫mero de √≥rdenes pendientes

2. **Revisi√≥n de Orden**
   - Login al dashboard
   - Menu ‚Üí √ìrdenes
   - Ve nueva orden destacada
   - Click para ver detalles

3. **Verificaci√≥n de Informaci√≥n**
   - Revisa productos ordenados
   - Verifica disponibilidad de stock
   - Revisa direcci√≥n de env√≠o
   - Ve m√©todo de pago y estado

4. **Validaci√≥n de Pago**
   - Verifica que pago fue procesado
   - Revisa posibles se√±ales de fraude:
     * Direcci√≥n sospechosa
     * M√∫ltiples √≥rdenes seguidas
     * Tarjeta internacional con env√≠o local
   - Si todo est√° bien, contin√∫a
   - Si hay dudas, contacta al cliente

5. **Preparaci√≥n de Productos**
   - Localiza productos en bodega
   - Verifica calidad
   - Empaca apropiadamente:
     * Material de protecci√≥n
     * Caja o sobre
     * Incluye factura
     * Incluye nota de agradecimiento (opcional)

6. **Generaci√≥n de Etiqueta**
   - En sistema: Click en "Generar Etiqueta"
   - Selecciona compa√±√≠a de env√≠o
   - Ingresa peso del paquete
   - Sistema genera PDF con etiqueta
   - Imprime e incluye en paquete

7. **Actualizaci√≥n de Status**
   - Marca orden como "En Procesamiento"
   - Cliente recibe notificaci√≥n autom√°tica

8. **Env√≠o del Paquete**
   - Llama a mensajer√≠a o lleva a sucursal
   - Obtiene n√∫mero de rastreo
   - Ingresa en sistema:
     * N√∫mero de rastreo
     * Compa√±√≠a
     * Fecha de env√≠o
   - Marca orden como "Enviada"

9. **Notificaci√≥n Autom√°tica**
   - Sistema env√≠a email al cliente con:
     * Confirmaci√≥n de env√≠o
     * N√∫mero de rastreo
     * Link de rastreo
     * Tiempo estimado de llegada

10. **Seguimiento**
    - Monitorea status del env√≠o
    - Ve updates de la mensajer√≠a
    - Si hay retraso, contacta cliente proactivamente

11. **Confirmaci√≥n de Entrega**
    - Mensajer√≠a confirma entrega
    - Sistema marca orden como "Entregada"
    - Email autom√°tico al cliente
    - Invitaci√≥n a dejar review

12. **Cierre de Orden**
    - Orden completada
    - Ingresos registrados
    - Stock actualizado
    - M√©tricas actualizadas

**Resultado:**
Orden procesada exitosamente, producto entregado, cliente satisfecho.

**Tiempo Invertido:**
- Revisi√≥n y validaci√≥n: 2-3 minutos
- Preparaci√≥n y empaque: 10-15 minutos
- Actualizaci√≥n de sistema: 2-3 minutos
- **Total por orden: ~20 minutos**

---

### Flujo 5: Gesti√≥n de Reembolso

**Actor: Comerciante + Cliente**

**Pasos:**

**Solicitud del Cliente:**

1. **Cliente Solicita Devoluci√≥n**
   - Login a su cuenta
   - Ve historial de √≥rdenes
   - Selecciona orden a devolver
   - Click en "Solicitar Devoluci√≥n"

2. **Formulario de Devoluci√≥n**
   - Selecciona producto(s) a devolver
   - Raz√≥n de devoluci√≥n:
     * Producto defectuoso
     * Producto incorrecto
     * No coincide con descripci√≥n
     * Ya no lo necesito
     * Otra (especificar)
   - Sube fotos del producto (si aplica)
   - Escribe descripci√≥n detallada
   - Submit

3. **Confirmaci√≥n**
   - "Solicitud recibida"
   - N√∫mero de caso de devoluci√≥n
   - Tiempo estimado de respuesta (24-48 hrs)
   - Instrucciones de env√≠o de vuelta

**Procesamiento del Comerciante:**

4. **Notificaci√≥n al Comerciante**
   - Email de alerta
   - Dashboard: Badge en "Devoluciones"
   - Prioridad seg√∫n plan del cliente

5. **Revisi√≥n de Solicitud**
   - Lee raz√≥n de devoluci√≥n
   - Ve fotos adjuntas
   - Revisa pol√≠ticas de devoluci√≥n:
     * ¬øEst√° dentro del per√≠odo? (ej: 30 d√≠as)
     * ¬øProducto es retornable?
     * ¬øCondiciones aceptables?

6. **Decisi√≥n**

   **Opci√≥n A: Aprobar**
   - Click en "Aprobar Devoluci√≥n"
   - Selecciona tipo de reembolso:
     * Completo (100%)
     * Parcial (especificar monto)
     * Cr√©dito en tienda
   - Genera etiqueta de retorno (opcional)
   - Instrucciones para cliente

   **Opci√≥n B: Rechazar**
   - Click en "Rechazar Devoluci√≥n"
   - Raz√≥n del rechazo
   - Ofrecer alternativa (descuento, cambio)

7. **Notificaci√≥n al Cliente**
   - Email con decisi√≥n
   - Si aprobado:
     * Etiqueta de retorno adjunta
     * Instrucciones de env√≠o
     * Direcci√≥n de retorno
   - Si rechazado:
     * Raz√≥n explicada
     * Alternativas ofrecidas

**Retorno F√≠sico:**

8. **Cliente Env√≠a Producto**
   - Empaca producto
   - Usa etiqueta proporcionada
   - Env√≠a v√≠a mensajer√≠a
   - Guarda recibo

9. **Comerciante Recibe Producto**
   - Inspecciona condici√≥n
   - Verifica que es el producto correcto
   - Documenta con fotos

10. **Actualizaci√≥n de Status**
    - Marca como "Producto Recibido"
    - Cliente notificado

**Procesamiento de Reembolso:**

11. **Inicia Reembolso**
    - En sistema: "Procesar Reembolso"
    - Confirma monto
    - Selecciona m√©todo original de pago
    - Click en "Confirmar Reembolso"

12. **Procesamiento por Gateway**
    - Sistema contacta Stripe/PayPal
    - Procesa reembolso
    - Confirmaci√≥n recibida
    - Generalmente 2-3 minutos

13. **Notificaci√≥n Final**
    - Email al cliente:
      * "Reembolso procesado"
      * Monto reembolsado
      * M√©todo (tarjeta terminada en XXXX)
      * Tiempo estimado de llegada (5-10 d√≠as)
    - Status actualizado a "Reembolsado"

14. **Actualizaci√≥n de Inventario**
    - Si producto en buenas condiciones:
      * Stock restaurado
      * Producto disponible de nuevo
    - Si producto da√±ado:
      * Stock no restaurado
      * P√©rdida registrada

**Resultado:**
Devoluci√≥n procesada, cliente reembolsado, relaci√≥n preservada.

**Tiempo Total:**
- Solicitud del cliente: 5-10 minutos
- Revisi√≥n del comerciante: 10-15 minutos
- Env√≠o de retorno: 3-7 d√≠as
- Inspecci√≥n y reembolso: 15-20 minutos
- Llegada de dinero al cliente: 5-10 d√≠as

---

## üîí Seguridad y Aislamiento

### Row Level Security (RLS) Explicado

**¬øQu√© es?**

Row Level Security es como tener un guardia de seguridad en cada fila de cada tabla de la base de datos. Cada vez que alguien intenta acceder a datos, el guardia pregunta: "¬øTienes permiso para ver esto?"

**Ejemplo sin RLS:**

```
Todas las tiendas en una tabla:

ID | tenant_id    | nombre_tienda    | ventas_mes
1  | tienda-A     | Zapater√≠a Pedro  | $10,000
2  | tienda-B     | Ropa Mar√≠a       | $15,000
3  | tienda-C     | Tech Store       | $25,000

Si Pedro hace una consulta:
Pedro ve: TODAS las filas (problema de seguridad!)
```

**Ejemplo con RLS:**

```
Pedro hace login ‚Üí Sistema sabe que Pedro es due√±o de "tienda-A"

Pedro hace consulta ‚Üí RLS autom√°ticamente agrega filtro

Pedro ve solo:
ID | tenant_id    | nombre_tienda    | ventas_mes
1  | tienda-A     | Zapater√≠a Pedro  | $10,000

Mar√≠a hace login ‚Üí Sistema sabe que Mar√≠a es due√±a de "tienda-B"
Mar√≠a ve solo sus datos de "tienda-B"

¬°Imposible que Pedro vea datos de Mar√≠a!
```

**¬øC√≥mo Funciona Internamente?**

1. **Usuario se autentica**
   - Login con email/password
   - Sistema genera JWT token
   - Token contiene: user_id, email, rol

2. **Usuario hace request**
   - Request incluye JWT token
   - Sistema valida token
   - Extrae user_id

3. **Sistema busca tenant(s) del usuario**
   - Consulta: "¬øDe qu√© tenants es miembro este usuario?"
   - Obtiene lista de tenant_ids
   - Ejemplo: ["tienda-A"]

4. **Cada query se filtra autom√°ticamente**
   - Usuario pide: "Dame todos mis productos"
   - Sistema convierte a: "Dame productos WHERE tenant_id IN ('tienda-A')"
   - Usuario NUNCA ve esto, pasa autom√°ticamente

5. **Validaci√≥n en escritura tambi√©n**
   - Usuario intenta crear producto
   - Sistema verifica: "¬øEste usuario puede escribir en este tenant?"
   - Si s√≠: Permite
   - Si no: Error "Permission denied"

**Ventajas:**

‚úÖ **Autom√°tico**: No hay que recordar agregar filtros
‚úÖ **A prueba de errores**: Imposible olvidar filtrar
‚úÖ **Consistente**: Aplica en TODA la aplicaci√≥n
‚úÖ **Seguro**: Imposible bypassear desde el c√≥digo
‚úÖ **Performance**: Optimizado por la base de datos

**Pol√≠ticas Implementadas:**

1. **Pol√≠ticas P√∫blicas** (Storefront)
   - Cualquiera puede ver productos activos
   - Cualquiera puede ver categor√≠as activas
   - Cualquiera puede crear clientes (checkout)
   - Cualquiera puede crear √≥rdenes (comprar)

2. **Pol√≠ticas de Usuario Autenticado**
   - Ver sus propias √≥rdenes
   - Ver su perfil de cliente
   - Modificar sus direcciones
   - Dejar reviews en productos comprados

3. **Pol√≠ticas de Miembro de Tenant**
   - Ver productos del tenant
   - Crear/editar productos
   - Ver √≥rdenes del tenant
   - Actualizar √≥rdenes
   - Ver analytics del tenant
   - Gestionar clientes del tenant

4. **Pol√≠ticas de Owner**
   - Todo lo anterior +
   - Editar configuraci√≥n del tenant
   - Invitar/remover miembros
   - Cambiar plan de suscripci√≥n
   - Eliminar tenant

5. **Pol√≠ticas de Superadmin**
   - Ver TODOS los tenants
   - Editar cualquier tenant
   - Acceder a m√©tricas globales
   - Gestionar planes
   - Suspender/activar tenants

### Encriptaci√≥n de Datos

**En Tr√°nsito:**
- HTTPS/TLS obligatorio
- Certificado SSL v√°lido
- HSTS habilitado
- Conexiones inseguras rechazadas

**En Reposo:**
- Base de datos encriptada
- Backups encriptados
- Passwords hasheados (bcrypt)
- Datos sensibles encriptados (pgcrypto)

**En Procesamiento:**
- Datos de tarjeta nunca almacenados
- Solo tokens de Stripe/PayPal
- PCI DSS compliant
- 3D Secure para autenticaci√≥n

### Audit Logs

**¬øQu√© se registra?**

Toda acci√≥n importante deja un rastro:

```
16 Feb 2024, 10:30:15
Usuario: pedro@example.com (ID: user-123)
Acci√≥n: UPDATE
Recurso: products (ID: prod-456)
Tenant: tienda-A
IP: 192.168.1.1
Cambios:
  - precio: $20 ‚Üí $25
  - stock: 100 ‚Üí 95
```

**Uso:**
- Auditor√≠as de seguridad
- Resolver disputas
- Debugging de problemas
- Cumplimiento regulatorio
- An√°lisis forense

---

## üìà Escalabilidad

### Arquitectura Escalable

**Horizontal Scaling:**

A medida que crece el negocio:

```
Etapa 1: Startup (0-100 tenants)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Single      ‚îÇ
‚îÇ Server      ‚îÇ
‚îÇ PostgreSQL  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Etapa 2: Crecimiento (100-1,000 tenants)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Primary  ‚îÇ‚îÄ‚îÄ‚îÄ>‚îÇ Replica  ‚îÇ
‚îÇ Server   ‚îÇ    ‚îÇ (Read)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Etapa 3: Escala (1,000-10,000 tenants)
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îÇ Load     ‚îÇ
                ‚îÇ Balancer ‚îÇ
                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ           ‚îÇ           ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ App 1  ‚îÇ  ‚îÇ App 2  ‚îÇ  ‚îÇ App 3  ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ          ‚îÇ           ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
           ‚îÇ   PostgreSQL    ‚îÇ
           ‚îÇ   Cluster       ‚îÇ
           ‚îÇ (Master+Replicas‚îÇ
           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Etapa 4: Hiper-escala (10,000+ tenants)
- CDN global
- Caching layer (Redis)
- Database sharding por regi√≥n
- Microservicios
```

### Performance Optimizations

**Database Level:**
- 80+ √≠ndices estrat√©gicos
- Partial indexes (solo datos activos)
- Covering indexes (evitan lookup)
- GIN indexes (b√∫squedas full-text)
- B-tree indexes (lookups r√°pidos)

**Application Level:**
- Connection pooling (PgBouncer)
- Query caching
- Result caching
- Rate limiting
- Debouncing de requests

**Frontend Level:**
- Code splitting (lazy loading)
- Image optimization (WebP, lazy load)
- CDN para assets est√°ticos
- Service workers (PWA)
- Gzip/Brotli compression

**Infraestructura:**
- Auto-scaling de servers
- Database read replicas
- Geographic distribution
- DDoS protection
- WAF (Web Application Firewall)

### Monitoring y Alerts

**M√©tricas Monitoreadas:**

**Application:**
- Request latency (p50, p95, p99)
- Error rate
- Throughput (requests/second)
- Active users

**Database:**
- Query performance
- Connection pool usage
- Disk usage
- Replication lag
- Slow queries

**Business:**
- Tenants activos
- √ìrdenes por minuto
- Revenue por hora
- Tasa de conversi√≥n

**Alertas Autom√°ticas:**
- Error rate > 1%
- Latency > 500ms
- Disk usage > 80%
- Failed payments spike
- Unusual traffic patterns

---

## üéØ Casos de Uso

### Caso 1: Boutique de Ropa

**Perfil:**
- Negocio peque√±o
- 200 productos
- 50-100 √≥rdenes/mes
- 1-2 personas gestionando

**Uso de la Plataforma:**

**Setup Inicial:**
- Plan Basic ($29/mes)
- Personalizaci√≥n completa con colores de marca
- 5 categor√≠as principales (Mujer, Hombre, Ni√±os, Accesorios, Ofertas)
- Integraci√≥n con Instagram

**Operaci√≥n Diaria:**
- Recibe 3-5 √≥rdenes por d√≠a
- Procesa √≥rdenes en la tarde
- Env√≠a v√≠a mensajer√≠a local
- Responde mensajes en dashboard

**Caracter√≠sticas Usadas:**
- Variantes de producto (tallas, colores)
- Galer√≠a de im√°genes (5-7 por producto)
- Cupones de descuento estacionales
- Reviews de clientes
- Analytics b√°sico

**Beneficios:**
- Costo bajo comparado con tienda f√≠sica
- Alcance nacional
- Gesti√≥n desde smartphone
- Inventario automatizado

---

### Caso 2: Electr√≥nica Mayorista

**Perfil:**
- Negocio mediano
- 2,000+ productos
- 500-1,000 √≥rdenes/mes
- Equipo de 5 personas

**Uso de la Plataforma:**

**Setup Inicial:**
- Plan Professional ($79/mes)
- Subdominios personalizados
- Integraci√≥n con ERP
- Webhooks a sistema de contabilidad

**Operaci√≥n Diaria:**
- Equipo de 3 personas procesando √≥rdenes
- 1 persona gestionando inventario
- 1 persona atenci√≥n al cliente
- Importaci√≥n diaria de precios v√≠a CSV

**Caracter√≠sticas Usadas:**
- Cat√°logo masivo con b√∫squeda avanzada
- Descuentos por volumen
- M√∫ltiples m√©todos de pago
- Facturaci√≥n electr√≥nica
- Analytics avanzado
- API para integraciones
- M√∫ltiples usuarios con roles

**Beneficios:**
- Automatizaci√≥n de procesos
- Reducci√≥n de errores
- Escalabilidad sin contratar m√°s personal
- Insights de negocio en tiempo real

---

### Caso 3: Marketplace de Artesan√≠as

**Perfil:**
- 50 artesanos vendiendo
- 5,000+ productos √∫nicos
- 2,000+ √≥rdenes/mes
- Modelo de comisi√≥n

**Uso de la Plataforma:**

**Setup Inicial:**
- Plan Enterprise ($299/mes)
- Desarrollo custom de multiples tiendas dentro de un tenant
- API completa habilitada
- Soporte dedicado

**Operaci√≥n Diaria:**
- Cada artesano gestiona sus productos
- Plataforma gestiona pagos y split de comisiones
- Artesanos ven solo sus ventas
- Admin ve todo

**Caracter√≠sticas Usadas:**
- Multi-usuario con permisos granulares
- Dashboard por vendedor
- Comisiones autom√°ticas
- Pagos programados a vendedores
- Reviews unificados
- Chat interno

**Beneficios:**
- Consolidaci√≥n de m√∫ltiples negocios
- Econom√≠a de escala
- Brand unificado
- Experiencia de compra consistente

---

## üìä M√©tricas de √âxito

**Para la Plataforma:**
- Tenants activos
- Churn rate (cancelaciones)
- MRR (Monthly Recurring Revenue)
- Uptime del sistema
- Satisfaction score

**Para los Comerciantes:**
- √ìrdenes completadas
- Revenue total
- Tasa de conversi√≥n
- Valor promedio de orden
- Customer retention

**Para los Clientes:**
- Tiempo de carga < 2s
- Checkout completion rate > 70%
- Return rate < 5%
- 5-star reviews

---

## üéì Conclusi√≥n

Esta plataforma SaaS de ecommerce multi-tenant proporciona una soluci√≥n completa, escalable y segura para que m√∫ltiples comerciantes puedan vender en l√≠nea sin la complejidad de crear y mantener su propia infraestructura.

**Ventajas Clave:**
‚úÖ Aislamiento total entre tenants
‚úÖ Personalizaci√≥n por marca
‚úÖ Escalabilidad autom√°tica
‚úÖ Seguridad robusta
‚úÖ Analytics incorporados
‚úÖ Automatizaci√≥n de procesos
‚úÖ Costos compartidos

**Tecnolog√≠as Modernas:**
- PostgreSQL con RLS
- Supabase (BaaS)
- Angular 21 (Frontend)
- TypeScript
- Signals (Reactividad)

**Listo para Producci√≥n:**
- Backups autom√°ticos
- Monitoring integrado
- Audit logs completos
- Documentaci√≥n exhaustiva
- Soporte multi-idioma

Esta documentaci√≥n cubre la arquitectura completa del sistema, sus m√≥dulos, flujos y casos de uso. Para implementaci√≥n t√©cnica, consulta los documentos de c√≥digo y API.